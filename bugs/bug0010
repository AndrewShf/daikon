Version:      $Id$
Tool:         dfej
Owner:        Alan <adonovan>, Mike <mernst>
Cc:           Jeremy <mistere>
Summary:      instrument-in-place can fail
Status:       New
Reproducible: No
Severity:     Vexing
Description:

Sometimes dfej will attempt to instrument already-instrumented files,
causing a bunch of symbol-multiply-defined errors.

[mistere]
To reproduce:
  cd $inv/tests/daikon-tests/StackAr
  make NOAJAX=1 clean compile
  rm scratch/.instrument-timestamp
  make NOAJAX=1 compile

[adonovan]
: Anyone know why this is?

[adonovan]
: Apparently it's because it fails to complete the first time around. 

[mistere]
: But instrument-in-place should first, always, make a backup copy of
  the file, and then instrument; and if the backup exists, will use
  that for input for instrumenting.  So I really think the problem
  would be that it doesn't recognize that it *should* be instrumenting
  in place.

[mistere] on 5-Apr
: I'd like to re-nominate this bug for fixing.  I've also added Mike to
  the owner list, since he was the original implementor of this
  feature.  Not having this breaks the regression test Makefile.
  Every time I build a new dfej (or the distro gets updated, for others)
  I have to do "make clean" first.

[mernst] on 16-Apr-2002
This feature is not implemented and never was.  The manual states, in a
comment:
  @c not yet implemented for dfej as of 6/13/2001
so I have commented out the misleading paragraph.  This would be a
nice feature to have (dfec does it, I believe, so maybe some of its code
could be stolen to ease the implementation task.

--
$Log$
Revision 1.3  2002-04-16 18:08:52  mernst
changed bug0010

Revision 1.2  2002/04/05 16:18:55  mistere
changed bug0010

Revision 1.1  2002/03/12 04:50:54  adonovan
repairing repository broken during attemp to move it today... :-(

Revision 1.5  2002/03/07 07:28:05  mistere
changed bug0010

Revision 1.4  2002/03/07 05:30:08  adonovan
*** empty log message ***

Revision 1.3  2002/03/07 05:26:22  adonovan
*** empty log message ***

Revision 1.2  2002/03/05 14:59:28  adonovan
*** empty log message ***

Revision 1.1  2002/03/05 00:05:22  adonovan
added bug0010

