<html>
<head>
<TITLE>Creating an account on pag</TITLE>
<link rev="made" href="mailto:mernst@lcs.mit.edu">
</head>
<body>

<h1>Creating an account on pag</h1>

To create an account on pag, perform the following steps:
<p>

<ol>
<li>
Run inquir (for instance, on oregano, and using the .el rather than .elc
file) to get a UID.  Set the name and mail forwarding, at least, and note
the UID for use in the <tt>useradd</tt> command below.<p>

If it is impossible to run inquir, then look at the end of
<tt>/etc/passwd</tt> and choose a UID from there.  Don't just omit the
"<tt>-u <em>UID</em></tt>" argument from the useradd command.

<li>
Create a new account on pag like so:
<blockquote>
<pre>
su
setenv NEWUSERNAME <em>username</em>
setenv NEWUID <em>uid</em>

useradd -d /g6/users/$NEWUSERNAME -u $NEWUID $NEWUSERNAME
<em>echo "## Add to 'invariants' and 'pag' groups"</em>
emacs /etc/group
<em>echo "## Insert full name"</em>
emacs /etc/passwd
make -C /var/yp
<em>echo "## Add to 'daikon' mailing list"</em>
emacs /etc/aliases
newaliases
cd ~$NEWUSERNAME
echo "## Adjust directory permissions"
chmod og+rx .
<em>echo "## Set up dotfiles"</em>
echo "" >> .bashrc
cat /g2/users/mernst/research/invariants/doc/www/mit/.bashrc >> .bashrc
cp -pf /g2/users/mernst/research/invariants/doc/www/mit/.cshrc .
cp -pf /g2/users/mernst/research/invariants/doc/www/mit/.cvsrc .
echo "" >> .emacs
echo "" >> .emacs
cat /g2/users/mernst/research/invariants/doc/www/mit/.emacs >> .emacs
chown $NEWUSERNAME .cshrc .cvsrc .emacs
chgrp $NEWUSERNAME .cshrc .cvsrc .emacs
<em>echo "## Set up email forwarding to Athena"</em>
echo $NEWUSERNAME@mit.edu > .forward
chown $NEWUSERNAME .forward
chgrp $NEWUSERNAME .forward
yppasswd $NEWUSERNAME
exit
</pre>
</blockquote>

<li>
Now point people at the following webpages:<br>
Program Analysis Group logistics:
<a href="http://pag.lcs.mit.edu/pag/logistics.html">http://pag.lcs.mit.edu/pag/logistics.html</a><br>
Using Daikon at MIT LCS:
<a href="http://pag.lcs.mit.edu/daikon/mit/">http://pag.lcs.mit.edu/daikon/mit/</a>

</ol>

To remove an account, perhaps make a tar file of the user's directory, then do
<blockquote>
<pre>
  userdel -r <em>USERNAME</em>
  (cd /var/yp; make)
</pre>
</blockquote>

<hr>
<a href="./">Using Daikon at MIT</a><p>

<address>
  <a href="http://pag.lcs.mit.edu/~mernst/">Michael Ernst</a>
</address>

</body>
</html>
