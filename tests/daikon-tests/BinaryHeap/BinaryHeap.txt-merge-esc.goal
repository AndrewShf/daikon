    package DataStructures;

    // BinaryHeap class
    //
    // CONSTRUCTION: with optional capacity (that defaults to 100)
    //
    // ******************PUBLIC OPERATIONS*********************
    // void insert( x )       --> Insert x
    // Comparable deleteMin( )--> Return and remove smallest item
    // Comparable findMin( )  --> Return smallest item
    // boolean isEmpty( )     --> Return true if empty; else false
    // boolean isFull( )      --> Return true if full; else false
    // void makeEmpty( )      --> Remove all items
    // ******************ERRORS********************************
    // Throws Overflow if capacity exceeded

    /**
     * Implements a binary heap.
     * Note that all "matching" is based on the compareTo method.
     * @author Mark Allen Weiss
     */
    public class BinaryHeap
    {
        /*@ invariant DataStructures.BinaryHeap.DEFAULT_CAPACITY == this.array.length-1; */
        /*@ invariant this != null; */
        /*@ invariant this.currentSize >= 0; */
        /*@ invariant this.array != null; */
        /*@ invariant this.array != null; */
        /*@ invariant \typeof(this.array) == \type(DataStructures.Comparable[]); */
        /*@ invariant this.array.length == 101; */
        /*@ invariant (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY+1 <= i && i <= this.array.length-1) ==> (this.array[i] != null)); */
        /*@ invariant DataStructures.BinaryHeap.DEFAULT_CAPACITY >= this.currentSize; */
        /*@ invariant (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ invariant !(\forall int i; (0 <= i && i <= this.currentSize) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ invariant array.owner == this; */
        /**
         * Construct the binary heap.
         */
        public BinaryHeap( )
        {
            this( DEFAULT_CAPACITY );
        }

        /*@ requires capacity == 100; */
        /*@ ensures DataStructures.BinaryHeap.DEFAULT_CAPACITY == \old(capacity); */
        /*@ ensures \old(capacity) == this.array.length-1; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY] == this.array[this.currentSize]; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] == this.array[this.currentSize]; */
        /*@ ensures this.array[this.currentSize] == this.array[\old(capacity)]; */
        /*@ ensures this.array[this.currentSize] == this.array[\old(capacity)-1]; */
        /*@ ensures this.currentSize == 0; */
        /*@ ensures (this.array.length == 101) && ((\forall int i; (0 <= i && i <= this.array.length-1) ==> (this.array[i] == null))); */
        /*@ ensures (\forall int i; (0 <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures \elemtype(this.array) == \typeof(null); */
        /*@ ensures (\forall int i; (0 <= i && i <= this.array.length-1) ==> (\typeof(this.array[i]) == \typeof(null))); */
        /*@ ensures (\forall int i; (this.currentSize+1 <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures (\forall int i; (0 <= i && i <= this.currentSize) ==> (this.array[i] == null)); */
        /*@ ensures (\forall int i; (0 <= i && i <= this.currentSize-1) ==> (this.array[i] != null)); */
        /*@ ensures (\forall int i; (0 <= i && i <= this.array.length-1) ==> (this.array[i] == this.array[this.currentSize])); */
        /**
         * Construct the binary heap.
         * @param capacity the capacity of the binary heap.
         */
        public BinaryHeap( int capacity )
        {
            currentSize = 0;
            array = new Comparable[ capacity + 1 ];
        /*@ set array.owner = this; */
        }

        /*@ requires x != null; */
        /*@ requires \typeof(x) == \type(DataStructures.MyInteger); */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires \typeof(x) > \typeof(this.array); */
        /*@ requires DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ requires !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ modifies x, this.currentSize, this.array, this.array[*]; */
        /*@ ensures this.array[this.currentSize-1] == \old(this.array[this.currentSize]); */
        /*@ ensures this.array[this.currentSize-1] == this.array[\old(this.currentSize)]; */
        /*@ ensures this.array[this.currentSize-1] == \old(this.array[this.currentSize]); */
        /*@ ensures this.array[this.currentSize] != null; */
        /*@ ensures this.currentSize - \old(this.currentSize) - 1 == 0; */
        /*@ ensures \typeof(this.array) < \old(\typeof(x)); */
        /*@ ensures \typeof(this.array) == \old(\typeof(this.array)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.array.length-1) ==> (this.array[i] != \old(x))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.array.length-1) ==> (\typeof(this.array[i]) != \old(\typeof(x)))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != \old(x))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.currentSize) ==> (this.array[i] != \old(x))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize+1)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (\old(this.array[i]) != \old(this.array[this.currentSize+1]))); */
        /**
         * Insert into the priority queue, maintaining heap order.
         * Duplicates are allowed.
         * @param x the item to insert.
         * @exception Overflow if container is full.
         */
        public void insert( Comparable x ) throws Overflow
        {
            if( isFull( ) )
                throw new Overflow( );

                // Percolate up
            int hole = ++currentSize;
            for( ; hole > 1 && x.compareTo( array[ hole / 2 ] ) < 0; hole /= 2 )
                array[ hole ] = array[ hole / 2 ];
            array[ hole ] = x;
        }

        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires this.array[this.currentSize] != null; */
        /*@ requires DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ requires !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ requires !(\forall int i; (0 <= i && i <= this.currentSize-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ modifies this.currentSize, this.array, this.array[*]; */
        /*@ ensures \result != null; */
        /*@ ensures \typeof(\result) == \type(DataStructures.MyInteger); */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures this.array[this.currentSize] != null; */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.array.length-1) ==> (this.array[i] != \result)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != \result)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.currentSize) ==> (this.array[i] != \result)); */
        /*@ ensures \typeof(\result) > \typeof(this.array); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.array.length-1) ==> (\typeof(this.array[i]) != \typeof(\result))); */
        /*@ ensures DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ ensures \typeof(this.array) == \old(\typeof(this.array)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.currentSize-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /**
         * Find the smallest item in the priority queue.
         * @return the smallest item, or null, if empty.
         */
        public Comparable findMin( )
        {
            if( isEmpty( ) )
                return null;
            return array[ 1 ];
        }

        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires this.array[this.currentSize] != null; */
        /*@ requires DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ requires !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ requires !(\forall int i; (0 <= i && i <= this.currentSize-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ modifies this.currentSize, this.array, this.array[*]; */
        /*@ ensures this.array[this.currentSize] == this.array[\old(this.currentSize)-1]; */
        /*@ ensures \old(this.array[this.currentSize-1]) == \old(this.array[this.currentSize-1]); */
        /*@ ensures this.array[\old(this.currentSize)] == \old(this.array[this.currentSize]); */
        /*@ ensures \result != null; */
        /*@ ensures \typeof(\result) == \type(DataStructures.MyInteger); */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures this.array[\old(this.currentSize)] != null; */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != \result)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (\old(this.array[i]) != \result)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize)) ==> (\old(this.array[i]) != \result)); */
        /*@ ensures \typeof(\result) > \typeof(this.array); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.array.length-1) ==> (\typeof(this.array[i]) != \typeof(\result))); */
        /*@ ensures DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ ensures this.currentSize - \old(this.currentSize) + 1 == 0; */
        /*@ ensures \typeof(this.array) == \old(\typeof(this.array)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.array.length-1) ==> (this.array[i] != \old(this.array[this.currentSize-1]))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize-1)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize)) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != \old(this.array[this.currentSize-1]))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (\old(this.currentSize-1) <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /**
         * Remove the smallest item from the priority queue.
         * @return the smallest item, or null, if empty.
         */
        public Comparable deleteMin( )
        {
            if( isEmpty( ) )
                return null;

            Comparable minItem = findMin( );
            array[ 1 ] = array[ currentSize-- ];
            percolateDown( 1 );

            return minItem;
        }

        /*@ modifies this.currentSize, this.array, this.array[*]; */
        /**
         * Establish heap order property from an arbitrary
         * arrangement of items. Runs in linear time.
         */
        private void buildHeap( )
        {
            for( int i = currentSize / 2; i > 0; i-- )
                percolateDown( i );
        }

        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires this.array[this.currentSize] != null; */
        /*@ requires DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ requires !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ requires !(\forall int i; (0 <= i && i <= this.currentSize-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ modifies this.currentSize, this.array, this.array[*]; */
        /*@ ensures \result == false; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures this.array[this.currentSize] != null; */
        /*@ ensures DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ ensures \typeof(this.array) == \old(\typeof(this.array)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.currentSize-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /**
         * Test if the priority queue is logically empty.
         * @return true if empty, false otherwise.
         */
        public boolean isEmpty( )
        {
            return currentSize == 0;
        }

        /*@ modifies this.currentSize, this.array, this.array[*]; */
        /*@ ensures (\result == false)  ==  (DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize); */
        /*@ ensures (\result == false)  ==  ((\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null))); */
        /*@ ensures (\result == false)  ==  ((\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null))); */
        /*@ ensures (\result == false)  ==>  (!(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY]))); */
        /*@ ensures (\result == true)  ==  (DataStructures.BinaryHeap.DEFAULT_CAPACITY == this.currentSize); */
        /*@ ensures (\result == true)  ==  ((\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] != null))); */
        /*@ ensures (\result == true)  ==  ((\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] != null))); */
        /*@ ensures (\result == true)  ==>  (\old(this.array[this.currentSize-1]) != null); */
        /*@ ensures (\result == true)  ==>  (this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null); */
        /*@ ensures (\result == true)  ==>  ((\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == this.array[this.currentSize]))); */
        /*@ ensures (\result == true)  ==>  (this.array.length == 101); */
        /*@ ensures (\result == true)  ==>  (this.array[\old(this.currentSize)-1] != null); */
        /*@ ensures (\result == true)  ==>  ((\forall int i; (this.currentSize+1 <= i && i <= this.array.length-1) ==> (this.array[i] != null))); */
        /*@ ensures (\result == true)  ==>  (this.array[this.currentSize-1] != null); */
        /*@ ensures (\result == true)  ==>  ((\forall int i; (this.currentSize <= i && i <= this.array.length-1) ==> (this.array[i] != null))); */
        /*@ ensures (\result == true)  ==>  ((\forall int i; (this.currentSize <= i && i <= this.array.length-1) ==> (this.array[i] == this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY]))); */
        /*@ ensures (\result == true)  ==>  ((\forall int i; (this.currentSize <= i && i <= this.array.length-1) ==> (this.array[i] == this.array[this.currentSize]))); */
        /*@ ensures (\result == true)  ==>  ((\forall int i; (this.currentSize <= i && i <= this.array.length-1) ==> (this.array[i] != null))); */
        /*@ ensures \typeof(this.array) == \old(\typeof(this.array)); */
        /**
         * Test if the priority queue is logically full.
         * @return true if full, false otherwise.
         */
        public boolean isFull( )
        {
            return currentSize == array.length - 1;
        }

        /*@ modifies this.currentSize, this.array, this.array[*]; */
        /**
         * Make the priority queue logically empty.
         */
        public void makeEmpty( )
        {
            currentSize = 0;
        }

        /*@ spec_public */ private static final int DEFAULT_CAPACITY = 100;

        /*@ spec_public */ private int currentSize;      // Number of elements in heap
        /*@ spec_public */ private Comparable [ ] array; // The heap array

        /*@ requires this.array[hole-1] == this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY]; */
        /*@ requires hole == 1; */
        /*@ requires this.array[hole] != null; */
        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ requires DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ requires !(\forall int i; (hole+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[hole])); */
        /*@ requires !(\forall int i; (this.currentSize <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[hole])); */
        /*@ requires !(\forall int i; (this.currentSize+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[hole])); */
        /*@ requires !(\forall int i; (hole <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[this.currentSize])); */
        /*@ requires !(\forall int i; (hole+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1])); */
        /*@ requires !(\forall int i; (hole+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[this.currentSize])); */
        /*@ requires !(\forall int i; (this.currentSize+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1])); */
        /*@ modifies this.currentSize, this.array, this.array[*]; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY] == this.array[\old(hole)-1]; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY] == \old(this.array[hole-1]); */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1] != null; */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures (\forall int i; (DataStructures.BinaryHeap.DEFAULT_CAPACITY <= i && i <= this.array.length-1) ==> (this.array[i] == null)); */
        /*@ ensures this.array[\old(hole)] != null; */
        /*@ ensures DataStructures.BinaryHeap.DEFAULT_CAPACITY > this.currentSize; */
        /*@ ensures \typeof(this.array) == \old(\typeof(this.array)); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.array.length-1) ==> (this.array[i] != \old(this.array[this.currentSize]))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[\old(hole)])); */
        /*@ ensures !(\forall int i; (hole <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (hole <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != \old(this.array[hole]))); */
        /*@ ensures !(\forall int i; (hole <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != \old(this.array[this.currentSize]))); */
        /*@ ensures !(\forall int i; (hole+1 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1])); */
        /*@ ensures !(\forall int i; (hole+1 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (hole+1 <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != \old(this.array[hole]))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= hole) ==> (\old(this.array[i]) != this.array[\old(hole)])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY])); */
        /*@ ensures !(\forall int i; (this.currentSize+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1])); */
        /*@ ensures !(\forall int i; (\old(hole)+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1])); */
        /*@ ensures !(\forall int i; (\old(hole+1) <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[DataStructures.BinaryHeap.DEFAULT_CAPACITY-1])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (this.array[i] != \old(this.array[this.currentSize]))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= DataStructures.BinaryHeap.DEFAULT_CAPACITY-1) ==> (\old(this.array[i]) != this.array[\old(hole)])); */
        /*@ ensures !(\forall int i; (\old(hole) <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (\old(hole)+1 <= i && i <= this.array.length-1) ==> (this.array[i] != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (\old(hole) <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (\old(hole+1) <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (\old(this.currentSize) <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (0 <= i && i <= \old(this.currentSize)) ==> (\old(this.array[i]) != this.array[this.currentSize])); */
        /*@ ensures !(\forall int i; (this.currentSize <= i && i <= this.array.length-1) ==> (this.array[i] != \old(this.array[hole]))); */
        /*@ ensures !(\forall int i; (this.currentSize+1 <= i && i <= this.array.length-1) ==> (this.array[i] != \old(this.array[hole]))); */
        /*@ ensures !(\forall int i; (0 <= i && i <= this.currentSize) ==> (this.array[i] != \old(this.array[this.currentSize]))); */
        /*@ ensures !(\forall int i; (\old(hole) <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[\old(hole)])); */
        /*@ ensures !(\forall int i; (\old(hole+1) <= i && i <= \old(this.array.length-1)) ==> (\old(this.array[i]) != this.array[\old(hole)])); */
        /*@ ensures !(\forall int i; (\old(hole) <= i && i <= this.array.length-1) ==> (this.array[i] != \old(this.array[this.currentSize]))); */
        /*@ ensures !(\forall int i; (\old(hole)+1 <= i && i <= this.array.length-1) ==> (this.array[i] != \old(this.array[hole]))); */
        /*@ ensures !(\forall int i; (\old(hole)+1 <= i && i <= this.array.length-1) ==> (this.array[i] != \old(this.array[this.currentSize]))); */
        /**
         * Internal method to percolate down in the heap.
         * @param hole the index at which the percolate begins.
         */
        private void percolateDown( int hole )
        {
/* 1*/      int child;
/* 2*/      Comparable tmp = array[ hole ];

/* 3*/      for( ; hole * 2 <= currentSize; hole = child )
            {
/* 4*/          child = hole * 2;
/* 5*/          if( child != currentSize &&
/* 6*/                  array[ child + 1 ].compareTo( array[ child ] ) < 0 )
/* 7*/              child++;
/* 8*/          if( array[ child ].compareTo( tmp ) < 0 )
/* 9*/              array[ hole ] = array[ child ];
                else
/*10*/              break;
            }
/*11*/      array[ hole ] = tmp;
        }

            /*@ requires args != null; */
            /*@ requires \typeof(args) == \type(java.lang.String[]); */
            /*@ modifies args, args[*]; */
            // Test program
        public static void main( String [ ] args )
        {
            int numItems = 10000;
            numItems = 100;    // MDE: reduce run time
            BinaryHeap h = new BinaryHeap( numItems );
            int i = 37;

            try
            {
                for( i = 37; i != 0; i = ( i + 37 ) % numItems )
                    h.insert( new MyInteger( i ) );
                for( i = 1; i < numItems; i++ )
                    if( ((MyInteger)( h.deleteMin( ) )).intValue( ) != i )
                        System.out.println( "Oops! " + i );

                for( i = 37; i != 0; i = ( i + 37 ) % numItems )
                    h.insert( new MyInteger( i ) );
                h.insert( new MyInteger( 0 ) );
                i = 9999999;
                h.insert( new MyInteger( i ) );
                for( i = 1; i <= numItems; i++ )
                    if( ((MyInteger)( h.deleteMin( ) )).intValue( ) != i )
                        System.out.println( "Oops! " + i + " " );
            }
            catch( Overflow e )
              { System.out.println( "Overflow (expected)! " + i  ); }
        }
    }
